<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ma Bibliothèque</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variables CSS pour les couleurs */
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --background-color: #f5f5f5;
            --card-color: #ffffff;
            --text-color: #333333;
            --text-light: #777777;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Styles généraux */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            max-width: 100%;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Pages */
        .page {
            display: none;
            min-height: 100vh;
            padding-bottom: 70px; /* Pour laisser de la place pour la barre de navigation */
        }

        .page.active {
            display: block;
        }

        .page.hide-nav {
            padding-bottom: 0;
        }

        /* En-tête */
        header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 20px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            outline: none;
        }

        .user-actions a {
            color: white;
            margin-left: 15px;
            text-decoration: none;
        }

        /* Navigation */
        nav {
            background-color: var(--primary-color);
            padding: 10px 0;
        }

        .nav-links {
            display: flex;
            list-style: none;
            justify-content: space-around;
        }

        .nav-links li {
            margin-right: 0;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Sections principales */
        section {
            padding: 20px 0;
        }

        .section-title {
            margin-bottom: 15px;
            font-size: 1.5rem;
            color: var(--secondary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
        }

        /* Grille de livres */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .book-card {
            background-color: var(--card-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .book-card:hover {
            transform: translateY(-5px);
        }

        .book-cover {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .book-info {
            padding: 10px;
        }

        .book-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .book-author {
            color: var(--text-light);
            font-size: 0.8rem;
        }

        /* Barre de navigation en bas */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .bottom-nav.hidden {
            transform: translateY(100%);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-light);
            font-size: 0.8rem;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        /* Page de détail du livre */
        .book-detail-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .favorite-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .book-detail-cover {
            width: 150px;
            height: 200px;
            object-fit: cover;
            margin: 0 auto 15px;
            display: block;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .book-detail-title {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .book-detail-author {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .book-detail-rating {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }

        .book-detail-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .meta-value {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .meta-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .book-detail-content {
            padding: 20px;
        }

        .book-detail-section {
            margin-bottom: 25px;
        }

        .book-detail-section h3 {
            margin-bottom: 10px;
            color: var(--secondary-color);
        }

        .book-detail-section p {
            margin-bottom: 10px;
        }

        .key-points-list {
            list-style-type: none;
        }

        .key-points-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .key-points-list li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        /* Page de lecture */
        .reading-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .reading-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .reading-controls {
            display: flex;
            gap: 15px;
        }

        .reading-controls button {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .reading-content {
            padding: 20px;
            line-height: 1.8;
            max-width: 100%;
            margin: 0 auto;
        }

        .chapter-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--secondary-color);
            text-align: center;
        }

        .chapter-content {
            font-size: 1.1rem;
            text-align: justify;
        }

        .reading-settings {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 90;
        }

        .settings-panel {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            display: none;
            z-index: 90;
        }

        .settings-panel.active {
            display: block;
        }

        .setting-option {
            margin-bottom: 10px;
        }

        .setting-option label {
            display: block;
            margin-bottom: 5px;
        }

        .font-size-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .font-size-controls button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .theme-toggle {
            display: flex;
            gap: 10px;
        }

        .theme-option {
            padding: 5px 10px;
            border: 1px solid var(--primary-color);
            border-radius: 4px;
            cursor: pointer;
        }

        .theme-option.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Page sommaire */
        .toc-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toc-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .toc-list {
            list-style-type: none;
            padding: 15px;
        }

        .toc-item {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .toc-item:last-child {
            border-bottom: none;
        }

        .toc-item:hover {
            color: var(--primary-color);
        }

        /* Styles pour le mode sombre */
        body.dark-mode {
            --background-color: #1a1a1a;
            --card-color: #2d2d2d;
            --text-color: #f5f5f5;
            --text-light: #aaaaaa;
        }

        /* Promotion */
        .promotion-banner {
            background-color: var(--accent-color);
            color: white;
            padding: 10px;
            text-align: center;
            margin: 15px 0;
            border-radius: 8px;
        }

        /* Résultats de recherche */
     /* Résultats de recherche */
.search-results {
    display: none;
    background-color: white;
    color: var(--text-color);
    border-radius: 8px;
    box-shadow: var(--shadow);
    margin-top: 10px;
    max-height: 300px;
    overflow-y: auto;
    position: absolute;
    width: 100%;
    z-index: 101;
}

.search-results.active {
    display: block;
}

.search-result-item {
    padding: 10px 15px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    transition: background-color 0.2s;
}

.search-result-item:last-child {
    border-bottom: none;
}

.search-result-item:hover {
    background-color: #f5f5f5;
}

.search-result-item.highlighted {
    background-color: var(--primary-color);
    color: white;
}

/* Pour le mode sombre */
body.dark-mode .search-results {
    background-color: var(--card-color);
    color: var(--text-color);
}

body.dark-mode .search-result-item:hover {
    background-color: #3a3a3a;
}

body.dark-mode .search-result-item.highlighted {
    background-color: var(--primary-color);
    color: white;
}
        /* Responsive */
        @media (max-width: 768px) {
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .book-cover {
                height: 160px;
            }
            
            .search-bar {
                margin: 0 10px;
            }
        }
      .back-btn {
    position: absolute;
    top: 20px;
    left: 20px;
    background: none;
    border: none;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
}
    </style>
</head>
<body>
    <!-- Page d'accueil -->
    <div id="home-page" class="page active">
        <header>
            <div class="container">
                <div class="header-content">
                    <a href="#" class="logo">Livres</a>
                    <div class="search-bar">
                        <input type="text" id="search-input" placeholder="Titre, sujet...">
                        <div class="search-results" id="search-results">
                            <!-- Les résultats de recherche seront ajoutés ici -->
                        </div>
                    </div>
                    <div class="user-actions">
                        <a href="#"> </a>
                    </div>
                </div>
            </div>
        </header>

        

        <div class="container">
            <section>
                <h2 class="section-title">Langue et Culture</h2>
                <p>Lectures quotidiennes, toujours gratuites !</p>
                
                <div class="books-grid" id="free-books-grid">
                    <!-- Les livres seront ajoutés dynamiquement par JavaScript -->
                </div>
            </section>

            <section>
                <h2 class="section-title">Sélections du jour</h2>
                <p>Similaire à vos coups de cœur littéraires</p>
                
                <div class="books-grid" id="featured-books-grid">
                    <!-- Les livres seront ajoutés dynamiquement par JavaScript -->
                </div>
            </section>

            
        </div>
    </div>

    <!-- Page de détail du livre -->
    <div id="book-detail-page" class="page hide-nav">
        <div class="book-detail-header">
           <button class="back-btn" id="back-to-home">
        <i class="fas fa-arrow-left"></i>
    </button>
    
            <button class="favorite-btn" id="favorite-btn">
                <i class="far fa-heart"></i>
            </button>
            <img src="" alt="Couverture du livre" class="book-detail-cover" id="detail-cover">
            <h1 class="book-detail-title" id="detail-title">Titre du livre</h1>
            <p class="book-detail-author" id="detail-author">Auteur du livre</p>
            <div class="book-detail-rating">
                
            </div>
            <div class="book-detail-meta">
                <div class="meta-item">
                    <span class="meta-value" id="detail-key-points">10</span>
                    <span class="meta-label"> </span>
                </div>
                <div class="meta-item">
                    <span class="meta-value" id="detail-duration">51 min</span>
                    <span class="meta-label"> </span>
                </div>
                <div class="meta-item">
                    <span class="meta-value" id="detail-rating">4.6</span>
                    <span class="meta-label"> </span>
                </div>
            </div>
        </div>

        <div class="book-detail-content">
            <div class="book-detail-section">
                <h3>Que trouverez-vous ?</h3>
                <p id="detail-description">Description du livre...</p>
            </div>

            <div class="book-detail-section">
                <h3>Points clés</h3>
                <ul class="key-points-list" id="detail-key-points-list">
                    <!-- Les points clés seront ajoutés dynamiquement -->
                </ul>
            </div>

            <button id="start-reading" style="background-color: var(--primary-color); color: white; border: none; padding: 12px 20px; border-radius: 8px; width: 100%; font-size: 1rem; cursor: pointer;">
                Commencer la lecture
            </button>
        </div>
    </div>

    <!-- Page de lecture -->
    <div id="reading-page" class="page hide-nav">
        <div class="reading-header">
            <button id="back-to-detail">
               <i class="fas fa-arrow-left"></i>
            </button>
            <div class="reading-title" id="reading-chapter-title">Chapitre 1</div>
            <div class="reading-controls">
                <button id="show-toc">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <div class="reading-content">
            <h2 class="chapter-title" id="chapter-title">Comprendre la richesse : La mentalité des riches</h2>
            <div class="chapter-content" id="chapter-content">
                <p>Dans le monde de la finance et de la création de richesse, l'état d'esprit que l'on adopte joue un rôle crucial dans la détermination de son avenir financier. Robert Kiyosaki, dans son livre "Père riche, père pauvre", souligne un principe fondamental : les riches ne travaillent pas pour l'argent. Cette idée est enracinée dans les expériences de Kiyosaki lui-même, qui a grandi avec deux figures paternelles contrastées—son père biologique, qu'il appelle "Père pauvre", et le père de son meilleur ami, "Père riche". Chacun de ces hommes avait des croyances distinctes sur l'argent, le travail et la richesse, qui ont façonné la compréhension de Kiyosaki du succès financier.</p>
                <p>Dès leur jeune âge, Kiyosaki et son ami Mike étaient animés par la décision de devenir riches. Ils ont commencé par créer leur propre entreprise de fabrication de pièces de monnaie en plomb, mais ont rapidement réalisé que cela n'était pas légal. Leur "Père riche" les a alors pris sous son aile et leur a enseigné des leçons précieuses sur l'argent et les affaires.</p>
                <p>La première leçon que Kiyosaki a apprise de son "Père riche" était que les pauvres et la classe moyenne travaillent pour l'argent, tandis que les riches font en sorte que l'argent travaille pour eux. Cette distinction fondamentale est au cœur de la philosophie de Kiyosaki et constitue la base de son approche de l'éducation financière.</p>
            </div>
        </div>

        <div class="reading-settings" id="reading-settings-btn">
            <i class="fas fa-cog"></i>
        </div>

        <div class="settings-panel" id="settings-panel">
            <div class="setting-option">
                <label>Taille de police:</label>
                <div class="font-size-controls">
                    <button id="decrease-font"><i class="fas fa-minus"></i></button>
                    <span id="font-size-display">16px</span>
                    <button id="increase-font"><i class="fas fa-plus"></i></button>
                </div>
            </div>
            <div class="setting-option">
                <label>Thème:</label>
                <div class="theme-toggle">
                    <div class="theme-option active" data-theme="light">Clair</div>
                    <div class="theme-option" data-theme="dark">Sombre</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page sommaire -->
    <div id="toc-page" class="page hide-nav">
        <div class="toc-header">
            <button id="back-to-reading">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="toc-title">Sommaire</div>
            <div></div> <!-- Pour l'alignement -->
        </div>

        <ul class="toc-list" id="toc-list">
            <!-- Les chapitres seront ajoutés dynamiquement -->
        </ul>
    </div>
<!-- Page résultats de recherche -->
<!-- Page résultats de recherche -->
<div id="search-results-page" class="page">
    <header>
        <div class="container">
            <div class="header-content">
                <button id="back-from-search" style="background:none; border:none; color:white; font-size:1.2rem;">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="search-bar" style="flex:1; margin:0 15px;">
                    <input type="text" id="search-results-input" placeholder="Titre, auteur ou sujet">
                </div>
                <div style="width: 24px;"></div> <!-- Pour l'alignement -->
            </div>
        </div>
    </header>

    <div class="container">
        <section>
            <h2 class="section-title" id="search-results-title">Résultats de recherche</h2>
            <div class="books-grid" id="search-results-grid">
                <!-- Les résultats seront ajoutés ici -->
            </div>
        </section>
    </div>
</div>
    <!-- Page bibliothèque -->
    <div id="library-page" class="page">
        <header>
            <div class="container">
                <div class="header-content">
                    <a href="#" class="logo">MaBibliothèque</a>
                    <div class="search-bar">
                        <input type="text" placeholder="Rechercher dans ma bibliothèque">
                    </div>
                    <div class="user-actions">
                        <a href="#">Connexion</a>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <section>
                <h2 class="section-title">Mes livres favoris</h2>
                <div class="books-grid" id="favorite-books-grid">
                    <!-- Les livres favoris seront ajoutés dynamiquement -->
                </div>
            </section>
        </div>
    </div>

    <!-- Barre de navigation en bas -->
    <div class="bottom-nav" id="bottom-nav">
        <a href="#" class="nav-item active" data-page="home-page">
            <div class="nav-icon"><i class="fas fa-home"></i></div>
            <span> </span>
        </a>
       
        <a href="#" class="nav-item" data-page="library-page">
            <div class="nav-icon"><i class="fas fa-book"></i></div>
            <span> </span>
        </a>
       <a href="#" class="nav-item" data-page="discover-page">
            <div class="nav-icon"><i class="fas fa-user-graduate"></i></div>
            <span> </span>
        </a>
        <a href="#" class="nav-item" data-page="profile-page">
            <div class="nav-icon"><i class="fas fa-user"></i></div>
            <span> </span>
        </a>
    </div>

    <script>
        // Données des livres
        const books = [
            {
                id: 1,
                title: "PENSEES ACTUELLES (TOME 1)",
                author: "AHMED KHALIFA NIASSE",
                cover: "https://i.postimg.cc/FzWn4HZM/ZESGFZ.png",
                description: "Cet ouvrage, premier d’une série de quatre tomes, explore des thématiques liées à la religion islamique, avec un focus particulier sur l’islam confrérique sénégalais. L’auteur y analyse les dynamiques religieuses, les enjeux socio-politiques et les déviances doctrinales, tout en mettant en avant la richesse et la profondeur des enseignements coraniques.Divisé en chapitres, ce recueil aborde des sujets variés comme le rôle des confréries, la lutte contre le fondamentalisme, et la place des sciences dans l’islam. Il met aussi en lumière les défis posés par l’extrémisme religieux, tout en plaidant pour un islam basé sur l’unité et la complémentarité. Ahmed Khalifa NIASSE propose une réflexion critique sur l’évolution de l’islam au Sénégal et dans le monde, en s’appuyant sur des récits historiques, des analyses personnelles et des références coraniques.",
                
                duration: "recueil de contributions et de communiqués parus dans la presse",
               
                keyPointsList: [
                    "Radiographie de l’islam confrérique sénégalais",
                    "L’appel à un islam équilibré et lumineux",
                    "Analyse des déviances et dérives doctrinales",
                    "Un discours ferme contre le fondamentalisme et l’extrémisme",
                    "Les sciences et la connaissance comme piliers de l’islam",
                    "Une lecture socio-politique du religieux",
                    "Une mise en perspective internationale",
                    "Un style mêlant histoire, spiritualité et analyse profonde"

                ],
                chapters: [
                    {
                        title: "In memoriam",
                        content: `
    <h3>Hommage à Khady Sarr,<br>ma compagne de quarante ans</h3>

    <p>Nous avons été ensemble depuis mars 1975.<br>Dieu nous a donné deux garçons et deux filles.</p>
    
    <p>Il ne s'agit pas, ici, de revenir sur les péripéties d'un ménage de quatre décennies qui a connu, comme tous les autres, des hauts et des bas. Je voudrais surtout partager avec le lecteur cinq faits symbolisant les traits qui caractérisent cette femme vraiment exceptionnelle.</p>
    
    <p>Dès qu'on s'est mariés, je suis revenu du Gabon où je travaillais comme représentant régional d'un bureau d'études et d'ingénierie. Quand je suis arrivé à Dakar, une erreur de transcription de mon nom m'a empêché d'entrer en possession d'un virement bancaire que j'avais fait. Sans hésiter, elle me signa un chèque en blanc pour mettre à ma disposition toutes les économies qu'elle avait faites sur son salaire de secrétaire à la Manutention africaine. Oui, l'argent ne lui donnait pas la grosse tête.</p>
    
    <p>Un jour, pendant que nous nous trouvions à Kaolack, assis, pour le diner, sur une natte dans l'arrière-cour de notre chambre à l'hôtel Dior, elle se leva pour aller aux toilettes. Mais elle revint précipitamment et se remit à manger. Ce n'est que bien après qu'elle retourna dans la chambre pour aller aux toilettes. À son retour, elle expliqua pourquoi elle était revenue précipitamment la première fois. Elle avait aperçu un garçon de chambre en train de voler dans son sac. Mais de peur de toucher à la dignité du voleur, elle était revenue sur ses pas. Elle ajouta : « Il a pris vingt mille francs. Peut-être que c'était pour nourrir sa famille. »</p>
    
    <p>Le 5 avril 1975, quand éclatait la guerre civile libanaise, nous étions à Beyrouth où nous passâmes la première nuit à l'hôtel. Le lendemain, en allant répondre à l'invitation à déjeuner du chargé d'affaires de notre ambassade, le regretté Serigne Dame Niang, nous traversions la zone à pied malgré les tirs nourris à la mitraillette. Il y eut plusieurs morts par balles perdues. Khady Sarr s'accrocha à mon bras, les yeux fermés, comme je le lui avais conseillé. Elle marchait à mes côtés sans paniquer, même pas après la balle perdue qui troua le bout de son grand boubou que nous gardons encore comme relique.</p>
    
    <p>Après plusieurs années d'opulence et un séjour de plusieurs années dans les quartiers chics de Paris (où notre fils Babacar est né), elle me suivit sans broncher à Niaga Niasséné, village que nous avons fondé ensemble. Alors, nous dormions à la belle étoile, en pleine brousse, loin de tout voisinage humain. Sa dépense quotidienne était passée de 50 000 à 500 francs par jour. Elle se débrouillait avec cette petite somme pour bien me nourrir. Elle diffusait autour d'elle une atmosphère de bonheur qui nous empêchait de sentir les épines que nous avions, souvent, aux pieds. Épines à la place desquelles elle a semé des fleurs. Elle répandait tellement de joie que finalement, le chemin buissonnier qui nous servait d'itinéraire de promenade fut renommé, par nous, la Ballade des gens heureux, en référence à une chanson qui était en vogue, à cette époque.</p>
    
    <p>Elle a toujours accueilli ses nouvelles coépouses les bras ouverts. Il lui est même arrivé de leur donner de l'argent à mon insu. En se substituant à celles qui sont parties, elle a donné affection et chaleur maternelles à leurs enfants délaissés, tout en suivant leur éducation jusqu'à ce qu'ils reviennent auréolés de diplômes pour fonder leur propre foyer.</p>
    
    <p>D'une simplicité déconcertante, d'une discrétion extraordinaire, d'un abord facile, toujours souriante, Khady Sarr était vraiment une femme pas comme les autres.</p>
`
                    },
                    
                   
                    {
                        title: "Sur l'Islam confrérique au Sénégal",
                        content: "<p>Contenu du chapitre ...</p>"
                    }
               
                ]
            },
            {
                id: 2,
                title: "PENSEES ACTUELLES (TOME 2)",
                author: "AHMED KHALIFA NIASSE",
                cover: "https://i.postimg.cc/JzfZGHzD/HGVJB.png",
                description: "Cet ouvrage, premier d’une série de quatre tomes, explore des thématiques liées à la religion islamique, avec un focus particulier sur l’islam confrérique sénégalais. L’auteur y analyse les dynamiques religieuses, les enjeux socio-politiques et les déviances doctrinales, tout en mettant en avant la richesse et la profondeur des enseignements coraniques.Divisé en chapitres, ce recueil aborde des sujets variés comme le rôle des confréries, la lutte contre le fondamentalisme, et la place des sciences dans l’islam. Il met aussi en lumière les défis posés par l’extrémisme religieux, tout en plaidant pour un islam basé sur l’unité et la complémentarité. Ahmed Khalifa NIASSE propose une réflexion critique sur l’évolution de l’islam au Sénégal et dans le monde, en s’appuyant sur des récits historiques, des analyses personnelles et des références coraniques.",
                duration: "recueil de contributions et de communiqués parus dans la presse",
                keyPointsList: [
                    "Une cartographie intellectuelle de l’islam contemporain",
                    "La place des femmes en Islam : dignité, droits et responsabilité",
                    "Les droits sociaux et économiques au cœur du message islamique",
                    "Une réflexion sur la gouvernance et la responsabilité politique",
                    "Un retour aux grandes figures de l’histoire islamique",
                    "Dénonciation des dérives sociales et religieuses actuelles",
                    "Entre théologie, mémoire et plaidoyer pour une modernité enracinée",
                    "Une œuvre au courage intellectuel assumé"

                ],
                chapters: [
                   
                    {
                        title: "De la question féminine en Islam",
                        content: `<h3>Affaire DSK : du plaisir licite et illicite en islam</h3><p>Contrairement à ce qui se passe dans le catholicisme, qui s'est allié avec les femmes, faisant de la religion et de l'épouse une seule chose au point que perdre sa femme, c'est aussi perdre sa foi, en islam, le mariage est un acte sous sein privé. C'est comme si c'était un contrat à durée déterminée ou indéterminée. Il est aussi assorti d'un préavis constitué par la iddah, période transitoire pour prévenir une éventuelle grossesse.</p><p>Cependant, le plaisir entre époux étant licite, le contrat qui lie les deux époux est la location du ventre de la femme pour la procréation. Cela doit se faire contre une pension complète garantie à la femme. Il ne s'agit pas d'une garantie de donner le plaisir par son conjoint. C'est pourquoi le droit d'accès devient interdit pendant la période de menstruation, considérée comme une période d'infécondité. Toutefois, la position de notre religion par rapport aux plaisirs du couple illégal se durcit selon que l'un de ses éléments ou tous les deux commettent la violation d'un contrat contracté par ailleurs (mariage). Là, le législateur de la religion du Prophète peut aller jusqu'à la peine capitale, tout en faisant de ce crime un crime impossible, du fait de la rigidité des conditions de son constat.</p><p>En ce qui concerne les couples illégaux, lorsqu'un des éléments ou les deux sont libres de contrat vis-à-vis d'un tiers (célibataires), la sanction devient moins sévère. Une légère flagellation permettant aux personnes concernées de continuer de vaquer à leurs occupations.</p><p>En contant son voyage nocturne et son ascension vers le Ciel, le prophète Mohamed explique qu'au quatrième Ciel il y eut des femmes perdues par leurs seins au-dessus de la braise. Il fut informé qu'il s'agissait d'épouses ayant commis l'adultère. Pour ces dernières, la faute retenue était l'intrusion, par leur intermédiaire, d'un étranger dans la progéniture du conjoint. Plus grave encore, elles ont autorisé l'octroi d'un droit d'héritage à une personne qui n'y a pas droit.</p><p>En ce qui concerne Dominique Strauss-Kahn, les médias parlent de fellation. Or, contrairement au vagin, la zone bucco-dentaire ne peut servir à la procréation. Toutefois la tradition islamique abhorre les attouchements corporels les plus superficiels, même si le Coran exprime une tolérance pour ce qu'il considère comme un menu frettin, comme stipulé au verset 32 de la sourate 53 : « Ceux qui évitent les plus grands péchés ainsi que les turpitudes et [qui ne commettent] que des fautes légères ». Ces fautes désignent les actes légers ou superficiels ne comportant aucunement l'acte lui-même. Il est, cependant, considéré que dans le cas de Dominique Strauss-Kahn, l'accès à sa suite par une clé de service ne doit pas être possible lorsque la présence de l'occupant est signalée par la fameuse pancarte DND (« Ne pas déranger »).</p><p>Dans les grands palaces des grandes capitales, une petite lampe rouge s'allume lorsque l'occupant est à l'intérieur. Si c'est le cas, l'introduction d'employés de l'hôtel constituerait, alors, une violation de domicile.</p><p>Sur le plan logique, si le viol est faisable lorsqu'il vise les parties intimes de la victime, la chose est-elle aussi aisée pour une bouche dentée ?</p><p>En tout cas, la personne visée et les circonstances temporelles du scandale par rapport à l'agenda républicain français font que le préjudice subi par le supposé violeur est infiniment plus important qu'un acte réparable comme une légère fellation.</p><p>À moins, et ce n'est peut-être pas le cas, que la chose se soit déroulée sous la menace d'une arme. Ce qui, alors, aurait déplacé la chose du domaine de la délinquance à celui de la criminalité.</p><p><em>19 mai 2011</em></p>`
                    }
                ]
            },
            {
                id: 3,
                title: "DYNAMIQUE DU WOLOF",
                author: "AHMED KHALIFA NIASSE",
                cover: "https://i.postimg.cc/cHkTr4gc/fgnfgng.png",
                description: "Cet ouvrage explore la richesse de la langue wolof et ses dynamiques d’évolution culturelle. Ahmed Khalifa Niasse, avec une passion vive pour les langues et les interactions culturelles, aborde ici la structure du wolof en soulignant son rôle comme carrefour linguistique en Afrique de l’Ouest. Par des anecdotes et des observations personnelles, l’auteur dévoile les origines variées des mots wolofs, dont certains emprunts arabes, mandingues, peuls et européens. Il met en évidence comment la langue wolof refl ète l’histoire complexe du Sénégal, marquée par des échanges commerciaux, religieux et culturels. Ce livre n’est pas une oeuvre strictement académique, mais plutôt une exploration intuitive et ludique des étymologies et des emprunts linguistiques. Ce faisant, il capture les transformations constantes de cette langue vivante, soulignant sa capacité unique à s’adapter et à assimiler les infl uences externes. Le lecteur découvre alors le wolof sous un angle original, alliant érudition et accessibilité.",
                 duration: "Sources, emprunts, étymologies",
                 keyPointsList: [
                    "Une exploration passionnée de la langue wolof",
                    "Le wolof comme carrefour culturel ouest-africain",
                    "Des origines multiples et fascinantes des mots",
                    "Une langue qui raconte l’histoire du Sénégal",
                    // ... autres points clés
                ],
                chapters: [
                    {
                        title: "chapitre 1",
                        content: "<p>Contenu du premier chapitre...</p>"
                    }
                ]
            }
        ];

        // Éléments DOM
        const pages = document.querySelectorAll('.page');
        const bottomNav = document.getElementById('bottom-nav');
        const bottomNavItems = document.querySelectorAll('.nav-item');
        const freeBooksGrid = document.getElementById('free-books-grid');
        const featuredBooksGrid = document.getElementById('featured-books-grid');
        const favoriteBooksGrid = document.getElementById('favorite-books-grid');
        const startReadingBtn = document.getElementById('start-reading');
        const backToDetailBtn = document.getElementById('back-to-detail');
        const showTocBtn = document.getElementById('show-toc');
        const backToReadingBtn = document.getElementById('back-to-reading');
        const readingSettingsBtn = document.getElementById('reading-settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        const decreaseFontBtn = document.getElementById('decrease-font');
        const increaseFontBtn = document.getElementById('increase-font');
        const fontSizeDisplay = document.getElementById('font-size-display');
        const themeOptions = document.querySelectorAll('.theme-option');
        const tocList = document.getElementById('toc-list');
        const favoriteBtn = document.getElementById('favorite-btn');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');

        // Variables d'état
        let currentBook = null;
        let currentChapterIndex = 0;
        let fontSize = 16;
        let favoriteBooks = JSON.parse(localStorage.getItem('favoriteBooks')) || [];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Remplir les grilles de livres
            populateBookGrids();
            
            // Charger les livres favoris
            loadFavoriteBooks();
            
            // Configurer les écouteurs d'événements
            setupEventListeners();
        });

        // Remplir les grilles de livres
        function populateBookGrids() {
            // Livres gratuits
            freeBooksGrid.innerHTML = '';
            books.forEach(book => {
                const bookCard = createBookCard(book);
                freeBooksGrid.appendChild(bookCard);
            });

            // Livres en vedette
            featuredBooksGrid.innerHTML = '';
            books.forEach(book => {
                const bookCard = createBookCard(book);
                featuredBooksGrid.appendChild(bookCard);
            });
        }

        // Créer une carte de livre
        function createBookCard(book) {
            const bookCard = document.createElement('div');
            bookCard.className = 'book-card';
            bookCard.innerHTML = `
                <img src="${book.cover}" alt="${book.title}" class="book-cover">
                <div class="book-info">
                    <div class="book-title">${book.title}</div>
                    <div class="book-author">${book.author}</div>
                </div>
            `;
            bookCard.addEventListener('click', () => showBookDetail(book));
            return bookCard;
        }

        // Charger les livres favoris
        function loadFavoriteBooks() {
            favoriteBooksGrid.innerHTML = '';
            
            if (favoriteBooks.length === 0) {
                favoriteBooksGrid.innerHTML = '<p>Aucun livre favori pour le moment.</p>';
                return;
            }
            
            favoriteBooks.forEach(bookId => {
                const book = books.find(b => b.id === bookId);
                if (book) {
                    const bookCard = createBookCard(book);
                    favoriteBooksGrid.appendChild(bookCard);
                }
            });
        }

        // Configurer les écouteurs d'événements
        function setupEventListeners() {
            // Navigation du bas
            bottomNavItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    
                    // Mettre à jour les éléments actifs
                    bottomNavItems.forEach(navItem => navItem.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Afficher la page correspondante
                    showPage(pageId);
                });
            });
// Bouton retour vers l'accueil
document.getElementById('back-to-home').addEventListener('click', function() {
    showPage('home-page');
});
            // Bouton favori
            favoriteBtn.addEventListener('click', function() {
                if (currentBook) {
                    toggleFavorite(currentBook.id);
                }
            });

            // Recherche
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                
                if (query.length === 0) {
                    searchResults.classList.remove('active');
                    return;
                }
                
                // Filtrer les livres
                const results = books.filter(book => 
                    book.title.toLowerCase().includes(query) || 
                    book.author.toLowerCase().includes(query) ||
                    book.description.toLowerCase().includes(query)
                );
                
                // Afficher les résultats
                displaySearchResults(results);
            });

            // Bouton de lecture
            startReadingBtn.addEventListener('click', function() {
                if (currentBook) {
                    showReadingPage(currentBook, 0);
                }
            });
// Bouton retour de la page résultats
document.getElementById('back-to-home').addEventListener('click', function() {
    showPage('home-page');
});

// Recherche depuis la page résultats
document.getElementById('search-results-input').addEventListener('input', function() {
    const query = this.value.toLowerCase().trim();
    
    if (query.length === 0) {
        document.getElementById('search-results-grid').innerHTML = '<p>Entrez un terme de recherche</p>';
        return;
    }
    
    // Filtrer les livres
    const results = books.filter(book => 
        book.title.toLowerCase().includes(query) || 
        book.author.toLowerCase().includes(query) ||
        book.description.toLowerCase().includes(query)
    );
    
    // Mettre à jour la page de résultats
    showSearchResultsPage(results);
});
            // Bouton retour au détail
            backToDetailBtn.addEventListener('click', function() {
                showPage('book-detail-page');
            });

            // Bouton afficher sommaire
            showTocBtn.addEventListener('click', function() {
                if (currentBook) {
                    showTocPage(currentBook);
                }
            });

            // Bouton retour à la lecture
            backToReadingBtn.addEventListener('click', function() {
                showPage('reading-page');
            });

            // Paramètres de lecture
            readingSettingsBtn.addEventListener('click', function() {
                settingsPanel.classList.toggle('active');
            });

            // Contrôles de taille de police
            decreaseFontBtn.addEventListener('click', function() {
                if (fontSize > 12) {
                    fontSize--;
                    updateFontSize();
                }
            });

            increaseFontBtn.addEventListener('click', function() {
                if (fontSize < 24) {
                    fontSize++;
                    updateFontSize();
                }
            });

            // Options de thème
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    
                    themeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (theme === 'dark') {
                        document.body.classList.add('dark-mode');
                    } else {
                        document.body.classList.remove('dark-mode');
                    }
                });
            });

            // Navigation par glissement horizontal
            let touchStartX = 0;
            let touchEndX = 0;
            
            const readingContent = document.getElementById('reading-page');
            
            readingContent.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            readingContent.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                
                if (touchEndX < touchStartX - swipeThreshold) {
                    // Glissement vers la gauche - chapitre suivant
                    nextChapter();
                } else if (touchEndX > touchStartX + swipeThreshold) {
                    // Glissement vers la droite - chapitre précédent
                    previousChapter();
                }
            }
        }

        // Afficher une page spécifique
      function showPage(pageId) {
    pages.forEach(page => page.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    
    // Masquer ou afficher la barre de navigation
    if (document.getElementById(pageId).classList.contains('hide-nav') || 
        pageId === 'search-results-page') {  // AJOUTER CETTE CONDITION
        bottomNav.classList.add('hidden');
    } else {
        bottomNav.classList.remove('hidden');
    }
    
    // Recharger les livres favoris si on va sur la page bibliothèque
    if (pageId === 'library-page') {
        loadFavoriteBooks();
    }
}

        // Afficher les détails d'un livre
        function showBookDetail(book) {
            currentBook = book;
            
            // Mettre à jour les éléments de la page de détail
            document.getElementById('detail-cover').src = book.cover;
            document.getElementById('detail-title').textContent = book.title;
            document.getElementById('detail-author').textContent = book.author;
            document.getElementById('detail-description').textContent = book.description;
            document.getElementById('detail-key-points').textContent = book.keyPoints;
            document.getElementById('detail-duration').textContent = book.duration;
            document.getElementById('detail-rating').textContent = book.rating;
            
            // Mettre à jour le bouton favori
            updateFavoriteButton(book.id);
            
            // Mettre à jour la liste des points clés
            const keyPointsList = document.getElementById('detail-key-points-list');
            keyPointsList.innerHTML = '';
            book.keyPointsList.forEach(point => {
                const li = document.createElement('li');
                li.textContent = point;
                keyPointsList.appendChild(li);
            });
            
            // Afficher la page de détail
            showPage('book-detail-page');
        }

        // Afficher la page de lecture
        function showReadingPage(book, chapterIndex) {
            currentBook = book;
            currentChapterIndex = chapterIndex;
            
            // Mettre à jour les éléments de la page de lecture
            document.getElementById('reading-chapter-title').textContent = `Chapitre ${chapterIndex + 1}`;
            document.getElementById('chapter-title').textContent = book.chapters[chapterIndex].title;
            document.getElementById('chapter-content').innerHTML = book.chapters[chapterIndex].content;
            
            // Afficher la page de lecture
            showPage('reading-page');
        }

        // Afficher la page du sommaire
        function showTocPage(book) {
            currentBook = book;
            
            // Mettre à jour la liste du sommaire
            tocList.innerHTML = '';
            book.chapters.forEach((chapter, index) => {
                const li = document.createElement('li');
                li.className = 'toc-item';
                li.textContent = chapter.title;
                li.addEventListener('click', () => {
                    showReadingPage(book, index);
                });
                tocList.appendChild(li);
            });
            
            // Afficher la page du sommaire
            showPage('toc-page');
        }

        // Basculer le statut favori d'un livre
        function toggleFavorite(bookId) {
            const index = favoriteBooks.indexOf(bookId);
            
            if (index === -1) {
                // Ajouter aux favoris
                favoriteBooks.push(bookId);
                favoriteBtn.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                // Retirer des favoris
                favoriteBooks.splice(index, 1);
                favoriteBtn.innerHTML = '<i class="far fa-heart"></i>';
            }
            
            // Sauvegarder dans le localStorage
            localStorage.setItem('favoriteBooks', JSON.stringify(favoriteBooks));
        }

        // Mettre à jour le bouton favori
        function updateFavoriteButton(bookId) {
            if (favoriteBooks.includes(bookId)) {
                favoriteBtn.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                favoriteBtn.innerHTML = '<i class="far fa-heart"></i>';
            }
        }

        // Afficher les résultats de recherche
       // Afficher les résultats de recherche dans une page dédiée
// Afficher les résultats de recherche dans une page dédiée
function displaySearchResults(results) {
    const query = searchInput.value.trim();
    
    if (query.length === 0) {
        searchResults.classList.remove('active');
        return;
    }
    
    searchResults.innerHTML = '';
    
    if (results.length === 0) {
        searchResults.innerHTML = '<div class="search-result-item">Aucun résultat trouvé</div>';
        searchResults.classList.add('active');
    } else {
        // Afficher les résultats en popup ET préparer la page dédiée
        results.forEach((book, index) => {
            const resultItem = document.createElement('div');
            resultItem.className = 'search-result-item';
            resultItem.innerHTML = `
                <div><strong>${book.title}</strong></div>
                <div>${book.author}</div>
            `;
            resultItem.addEventListener('click', () => {
                // Mettre en surbrillance et aller au livre
                highlightAndGoToBook(book, index);
            });
            searchResults.appendChild(resultItem);
        });
        
        searchResults.classList.add('active');
        
        // Préparer les données pour la page dédiée
        window.searchResultsData = results;
        window.searchQuery = query;
    }
}
      
      // Mettre en surbrillance et aller au livre
function highlightAndGoToBook(book, index) {
    // Cacher les résultats popup
    searchResults.classList.remove('active');
    searchInput.value = '';
    
    // Afficher la page de résultats dédiée
    showSearchResultsPage(window.searchResultsData, window.searchQuery, index);
}

// Afficher la page de résultats
function showSearchResultsPage(results, query, highlightedIndex = -1) {
    // Mettre à jour le titre
    document.getElementById('search-results-title').textContent = 
        `Résultats pour "${query}" (${results.length})`;
    
    // Mettre la valeur de recherche dans l'input
    const searchResultsInput = document.getElementById('search-results-input');
    searchResultsInput.value = query;
    searchResultsInput.focus(); // Focus sur le champ de recherche
    
    // Remplir la grille de résultats
    const resultsGrid = document.getElementById('search-results-grid');
    resultsGrid.innerHTML = '';
    
    results.forEach((book, index) => {
        const bookCard = createBookCard(book);
        
        // Ajouter la surbrillance si c'est l'élément cliqué 
        if (index === highlightedIndex) {
            bookCard.style.border = '2px solid var(--primary-color)';
            bookCard.style.boxShadow = '0 0 10px rgba(52, 152, 219, 0.5)';
        }
        
        resultsGrid.appendChild(bookCard);
    });
    
    // Afficher la page
    showPage('search-results-page');
}

// Afficher la page de résultats
function showSearchResultsPage(results) {
    // Mettre à jour le titre
    document.getElementById('search-results-title').textContent = 
        `Résultats pour "${searchInput.value}" (${results.length})`;
    
    // Mettre la valeur de recherche dans l'input
    document.getElementById('search-results-input').value = searchInput.value;
    
    // Remplir la grille de résultats
    const resultsGrid = document.getElementById('search-results-grid');
    resultsGrid.innerHTML = '';
    
    results.forEach(book => {
        const bookCard = createBookCard(book);
        resultsGrid.appendChild(bookCard);
    });
    
    // Afficher la page
    showPage('search-results-page');
}

        // Chapitre suivant
        function nextChapter() {
            if (currentBook && currentChapterIndex < currentBook.chapters.length - 1) {
                showReadingPage(currentBook, currentChapterIndex + 1);
            }
        }

        // Chapitre précédent
        function previousChapter() {
            if (currentBook && currentChapterIndex > 0) {
                showReadingPage(currentBook, currentChapterIndex - 1);
            }
        }

        // Mettre à jour la taille de police
        function updateFontSize() {
            const chapterContent = document.getElementById('chapter-content');
            chapterContent.style.fontSize = `${fontSize}px`;
            fontSizeDisplay.textContent = `${fontSize}px`;
        }
    </script>
</body>
</html>        
