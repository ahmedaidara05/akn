<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ma Bibliothèque</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variables CSS pour les couleurs */
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --background-color: #f5f5f5;
            --card-color: #ffffff;
            --text-color: #333333;
            --text-light: #777777;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Styles généraux */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            max-width: 100%;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Pages */
        .page {
            display: none;
            min-height: 100vh;
            padding-bottom: 70px; /* Pour laisser de la place pour la barre de navigation */
        }

        .page.active {
            display: block;
        }

        .page.hide-nav {
            padding-bottom: 0;
        }

        /* En-tête */
        header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 20px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            outline: none;
        }

        .user-actions a {
            color: white;
            margin-left: 15px;
            text-decoration: none;
        }

        /* Navigation */
        nav {
            background-color: var(--primary-color);
            padding: 10px 0;
        }

        .nav-links {
            display: flex;
            list-style: none;
            justify-content: space-around;
        }

        .nav-links li {
            margin-right: 0;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Sections principales */
        section {
            padding: 20px 0;
        }

        .section-title {
            margin-bottom: 15px;
            font-size: 1.5rem;
            color: var(--secondary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
        }

        /* Grille de livres */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .book-card {
            background-color: var(--card-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .book-card:hover {
            transform: translateY(-5px);
        }

        .book-cover {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .book-info {
            padding: 10px;
        }

        .book-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .book-author {
            color: var(--text-light);
            font-size: 0.8rem;
        }

        /* Barre de navigation en bas */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .bottom-nav.hidden {
            transform: translateY(100%);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-light);
            font-size: 0.8rem;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        /* Page de détail du livre */
        .book-detail-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .favorite-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .book-detail-cover {
            width: 150px;
            height: 200px;
            object-fit: cover;
            margin: 0 auto 15px;
            display: block;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .book-detail-title {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .book-detail-author {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .book-detail-rating {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }

        .book-detail-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .meta-value {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .meta-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .book-detail-content {
            padding: 20px;
        }

        .book-detail-section {
            margin-bottom: 25px;
        }

        .book-detail-section h3 {
            margin-bottom: 10px;
            color: var(--secondary-color);
        }

        .book-detail-section p {
            margin-bottom: 10px;
        }

        .key-points-list {
            list-style-type: none;
        }

        .key-points-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .key-points-list li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        /* Page de lecture */
        .reading-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .reading-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .reading-controls {
            display: flex;
            gap: 15px;
        }

        .reading-controls button {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .reading-content {
            padding: 20px;
            line-height: 1.8;
            max-width: 100%;
            margin: 0 auto;
        }

        .chapter-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--secondary-color);
            text-align: center;
        }

        .chapter-content {
            font-size: 1.1rem;
            text-align: justify;
        }

        .reading-settings {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 90;
        }

        .settings-panel {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            display: none;
            z-index: 90;
        }

        .settings-panel.active {
            display: block;
        }

        .setting-option {
            margin-bottom: 10px;
        }

        .setting-option label {
            display: block;
            margin-bottom: 5px;
        }

        .font-size-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .font-size-controls button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .theme-toggle {
            display: flex;
            gap: 10px;
        }

        .theme-option {
            padding: 5px 10px;
            border: 1px solid var(--primary-color);
            border-radius: 4px;
            cursor: pointer;
        }

        .theme-option.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Page sommaire */
        .toc-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toc-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .toc-list {
            list-style-type: none;
            padding: 15px;
        }

        .toc-item {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .toc-item:last-child {
            border-bottom: none;
        }

        .toc-item:hover {
            color: var(--primary-color);
        }

        /* Styles pour le mode sombre */
        body.dark-mode {
            --background-color: #1a1a1a;
            --card-color: #2d2d2d;
            --text-color: #f5f5f5;
            --text-light: #aaaaaa;
        }

        /* Promotion */
        .promotion-banner {
            background-color: var(--accent-color);
            color: white;
            padding: 10px;
            text-align: center;
            margin: 15px 0;
            border-radius: 8px;
        }

        /* Résultats de recherche */
        .search-results {
            display: none;
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-top: 10px;
            max-height: 300px;
            overflow-y: auto;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background-color: #f5f5f5;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .book-cover {
                height: 160px;
            }
            
            .search-bar {
                margin: 0 10px;
            }
        }
      .back-btn {
    position: absolute;
    top: 20px;
    left: 20px;
    background: none;
    border: none;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
}
    </style>
</head>
<body>
    <!-- Page d'accueil -->
    <div id="home-page" class="page active">
        <header>
            <div class="container">
                <div class="header-content">
                    <a href="#" class="logo">Livres</a>
                    <div class="search-bar">
                        <input type="text" id="search-input" placeholder="Titre, sujet...">
                        <div class="search-results" id="search-results">
                            <!-- Les résultats de recherche seront ajoutés ici -->
                        </div>
                    </div>
                    <div class="user-actions">
                        <a href="#"> </a>
                    </div>
                </div>
            </div>
        </header>

        

        <div class="container">
            <section>
                <h2 class="section-title">Langue et Culture</h2>
                <p>Lectures quotidiennes, toujours gratuites !</p>
                
                <div class="books-grid" id="free-books-grid">
                    <!-- Les livres seront ajoutés dynamiquement par JavaScript -->
                </div>
            </section>

            <section>
                <h2 class="section-title">Sélections du jour</h2>
                <p>Similaire à vos coups de cœur littéraires</p>
                
                <div class="books-grid" id="featured-books-grid">
                    <!-- Les livres seront ajoutés dynamiquement par JavaScript -->
                </div>
            </section>

            <div class="promotion-banner">
                49% Désactivé - Fin dans 01:59:05
            </div>
        </div>
    </div>

    <!-- Page de détail du livre -->
    <div id="book-detail-page" class="page hide-nav">
        <div class="book-detail-header">
           <button class="back-btn" id="back-to-home">
        <i class="fas fa-arrow-left"></i>
    </button>
    
            <button class="favorite-btn" id="favorite-btn">
                <i class="far fa-heart"></i>
            </button>
            <img src="" alt="Couverture du livre" class="book-detail-cover" id="detail-cover">
            <h1 class="book-detail-title" id="detail-title">Titre du livre</h1>
            <p class="book-detail-author" id="detail-author">Auteur du livre</p>
            <div class="book-detail-rating">
                <span>4.6 <i class="fas fa-star"></i></span>
            </div>
            <div class="book-detail-meta">
                <div class="meta-item">
                    <span class="meta-value" id="detail-key-points">10</span>
                    <span class="meta-label">points clés</span>
                </div>
                <div class="meta-item">
                    <span class="meta-value" id="detail-duration">51 min</span>
                    <span class="meta-label">durée</span>
                </div>
                <div class="meta-item">
                    <span class="meta-value" id="detail-rating">4.6</span>
                    <span class="meta-label">note</span>
                </div>
            </div>
        </div>

        <div class="book-detail-content">
            <div class="book-detail-section">
                <h3>Que trouverez-vous ?</h3>
                <p id="detail-description">Description du livre...</p>
            </div>

            <div class="book-detail-section">
                <h3>Points clés</h3>
                <ul class="key-points-list" id="detail-key-points-list">
                    <!-- Les points clés seront ajoutés dynamiquement -->
                </ul>
            </div>

            <button id="start-reading" style="background-color: var(--primary-color); color: white; border: none; padding: 12px 20px; border-radius: 8px; width: 100%; font-size: 1rem; cursor: pointer;">
                Commencer la lecture
            </button>
        </div>
    </div>

    <!-- Page de lecture -->
    <div id="reading-page" class="page hide-nav">
        <div class="reading-header">
            <button id="back-to-detail">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="reading-title" id="reading-chapter-title">Chapitre 1</div>
            <div class="reading-controls">
                <button id="show-toc">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <div class="reading-content">
            <h2 class="chapter-title" id="chapter-title">Comprendre la richesse : La mentalité des riches</h2>
            <div class="chapter-content" id="chapter-content">
                <p>Dans le monde de la finance et de la création de richesse, l'état d'esprit que l'on adopte joue un rôle crucial dans la détermination de son avenir financier. Robert Kiyosaki, dans son livre "Père riche, père pauvre", souligne un principe fondamental : les riches ne travaillent pas pour l'argent. Cette idée est enracinée dans les expériences de Kiyosaki lui-même, qui a grandi avec deux figures paternelles contrastées—son père biologique, qu'il appelle "Père pauvre", et le père de son meilleur ami, "Père riche". Chacun de ces hommes avait des croyances distinctes sur l'argent, le travail et la richesse, qui ont façonné la compréhension de Kiyosaki du succès financier.</p>
                <p>Dès leur jeune âge, Kiyosaki et son ami Mike étaient animés par la décision de devenir riches. Ils ont commencé par créer leur propre entreprise de fabrication de pièces de monnaie en plomb, mais ont rapidement réalisé que cela n'était pas légal. Leur "Père riche" les a alors pris sous son aile et leur a enseigné des leçons précieuses sur l'argent et les affaires.</p>
                <p>La première leçon que Kiyosaki a apprise de son "Père riche" était que les pauvres et la classe moyenne travaillent pour l'argent, tandis que les riches font en sorte que l'argent travaille pour eux. Cette distinction fondamentale est au cœur de la philosophie de Kiyosaki et constitue la base de son approche de l'éducation financière.</p>
            </div>
        </div>

        <div class="reading-settings" id="reading-settings-btn">
            <i class="fas fa-cog"></i>
        </div>

        <div class="settings-panel" id="settings-panel">
            <div class="setting-option">
                <label>Taille de police:</label>
                <div class="font-size-controls">
                    <button id="decrease-font"><i class="fas fa-minus"></i></button>
                    <span id="font-size-display">16px</span>
                    <button id="increase-font"><i class="fas fa-plus"></i></button>
                </div>
            </div>
            <div class="setting-option">
                <label>Thème:</label>
                <div class="theme-toggle">
                    <div class="theme-option active" data-theme="light">Clair</div>
                    <div class="theme-option" data-theme="dark">Sombre</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page sommaire -->
    <div id="toc-page" class="page hide-nav">
        <div class="toc-header">
            <button id="back-to-reading">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="toc-title">Sommaire</div>
            <div></div> <!-- Pour l'alignement -->
        </div>

        <ul class="toc-list" id="toc-list">
            <!-- Les chapitres seront ajoutés dynamiquement -->
        </ul>
    </div>

    <!-- Page bibliothèque -->
    <div id="library-page" class="page">
        <header>
            <div class="container">
                <div class="header-content">
                    <a href="#" class="logo">MaBibliothèque</a>
                    <div class="search-bar">
                        <input type="text" placeholder="Rechercher dans ma bibliothèque">
                    </div>
                    <div class="user-actions">
                        <a href="#">Connexion</a>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <section>
                <h2 class="section-title">Mes livres favoris</h2>
                <div class="books-grid" id="favorite-books-grid">
                    <!-- Les livres favoris seront ajoutés dynamiquement -->
                </div>
            </section>
        </div>
    </div>

    <!-- Barre de navigation en bas -->
    <div class="bottom-nav" id="bottom-nav">
        <a href="#" class="nav-item active" data-page="home-page">
            <div class="nav-icon"><i class="fas fa-home"></i></div>
            <span>Pour Vous</span>
        </a>
        <a href="#" class="nav-item" data-page="discover-page">
            <div class="nav-icon"><i class="fas fa-compass"></i></div>
            <span>Découvrir</span>
        </a>
        <a href="#" class="nav-item" data-page="library-page">
            <div class="nav-icon"><i class="fas fa-book"></i></div>
            <span>Ma Bibliothèque</span>
        </a>
        <a href="#" class="nav-item" data-page="profile-page">
            <div class="nav-icon"><i class="fas fa-user"></i></div>
            <span>Profil</span>
        </a>
    </div>

    <script>
        // Données des livres
        const books = [
            {
                id: 1,
                title: "Père riche, père pauvre",
                author: "Robert Kiyosaki",
                cover: "https://via.placeholder.com/150x200?text=Père+riche+père+pauvre",
                description: "Le livre n°1 sur la finance personnelle depuis 25 ans Ce que les riches enseignent à leurs enfants à propos de l'argent - et que les pauvres et la classe moyenne n'enseignent pas !",
                keyPoints: 10,
                duration: "51 min",
                rating: 4.6,
                keyPointsList: [
                    "Comprendre la richesse : La mentalité des riches",
                    "Comprendre l'éducation financière et l'investissement dans les actifs",
                    "Occupez-vous de vos affaires : Construire sa richesse par la possession d'actifs",
                    "Comprendre la richesse : Comment les riches naviguent dans les systèmes fiscaux et juridiques",
                    "L'importance de l'éducation financière pour atteindre la richesse",
                    "Atteindre le succès financier par l'éducation et la planification",
                    "Le rôle de l'intelligence financière et du courage dans la création de richesse",
                    "Embrassez les risques d'investissement pour une croissance financière plus importante",
                    "L'importance d'apprendre plutôt que de gagner",
                    "Conclusion"
                ],
                chapters: [
                    {
                        title: "Comprendre la richesse : La mentalité des riches",
                        content: `
                            <p>Dans le monde de la finance et de la création de richesse, l'état d'esprit que l'on adopte joue un rôle crucial dans la détermination de son avenir financier. Robert Kiyosaki, dans son livre "Père riche, père pauvre", souligne un principe fondamental : les riches ne travaillent pas pour l'argent. Cette idée est enracinée dans les expériences de Kiyosaki lui-même, qui a grandi avec deux figures paternelles contrastées—son père biologique, qu'il appelle "Père pauvre", et le père de son meilleur ami, "Père riche". Chacun de ces hommes avait des croyances distinctes sur l'argent, le travail et la richesse, qui ont façonné la compréhension de Kiyosaki du succès financier.</p>
                            <p>Dès leur jeune âge, Kiyosaki et son ami Mike étaient animés par la décision de devenir riches. Ils ont commencé par créer leur propre entreprise de fabrication de pièces de monnaie en plomb, mais ont rapidement réalisé que cela n'était pas légal. Leur "Père riche" les a alors pris sous son aile et leur a enseigné des leçons précieuses sur l'argent et les affaires.</p>
                            <p>La première leçon que Kiyosaki a apprise de son "Père riche" était que les pauvres et la classe moyenne travaillent pour l'argent, tandis que les riches font en sorte que l'argent travaille pour eux. Cette distinction fondamentale est au cœur de la philosophie de Kiyosaki et constitue la base de son approche de l'éducation financière.</p>
                        `
                    },
                    {
                        title: "Comprendre l'éducation financière et l'investissement dans les actifs",
                        content: `
                            <p>L'éducation financière est un concept central dans "Père riche, père pauvre". Kiyosaki soutient que le système éducatif traditionnel ne prépare pas les gens à comprendre l'argent et à gérer leurs finances personnelles. Au lieu de cela, il perpétue le cycle de la pauvreté en formant les gens à devenir de bons employés plutôt que des propriétaires d'entreprise ou des investisseurs.</p>
                            <p>Kiyosaki introduit le concept d'actifs et de passifs d'une manière simple mais puissante : un actif met de l'argent dans votre poche, tandis qu'un passif en retire. Cette définition simplifiée aide les lecteurs à comprendre pourquoi il est important d'acquérir des actifs et de réduire les passifs.</p>
                            <p>Selon Kiyosaki, la plupart des gens confondent les actifs et les passifs. Par exemple, beaucoup considèrent leur maison comme un actif, mais en réalité, c'est un passif car elle génère des dépenses (hypothèque, entretien, taxes) plutôt que des revenus.</p>
                        `
                    },
                    {
                        title: "Occupez-vous de vos affaires : Construire sa richesse par la possession d'actifs",
                        content: `
                            <p>Kiyosaki encourage les lecteurs à "s'occuper de leurs affaires", ce qui signifie qu'ils devraient se concentrer sur la construction de leur colonne d'actifs tout en conservant leur emploi de jour. Il ne s'agit pas de quitter son emploi immédiatement, mais plutôt de commencer à investir dans des actifs qui généreront des revenus passifs.</p>
                            <p>Les actifs recommandés par Kiyosaki comprennent les entreprises qui ne nécessitent pas votre présence, les actions, les obligations, les fonds communs de placement, les biens immobiliers générateurs de revenus, les redevances et tout ce qui a de la valeur, produit des revenus ou prend de la valeur et a un marché disponible.</p>
                            <p>Kiyosaki souligne l'importance de réinvestir les revenus de vos actifs pour acquérir encore plus d'actifs, créant ainsi un cycle vertueux de croissance de la richesse.</p>
                        `
                    }
                ]
            },
            {
                id: 2,
                title: "Les 7 habitudes des gens efficaces",
                author: "Stephen R. Covey",
                cover: "https://via.placeholder.com/150x200?text=7+Habitudes",
                description: "Un guide pour développer une efficacité personnelle et professionnelle durable.",
                keyPoints: 7,
                duration: "45 min",
                rating: 4.5,
                keyPointsList: [
                    "Être proactif",
                    "Commencer avec la fin en tête",
                    "Donner la priorité aux priorités",
                    "Penser gagnant-gagnant",
                    "Chercher d'abord à comprendre",
                    "Synergiser",
                    "Aiguiser la scie"
                ],
                chapters: [
                    {
                        title: "Être proactif",
                        content: "<p>Contenu du chapitre sur la proactivité...</p>"
                    },
                    {
                        title: "Commencer avec la fin en tête",
                        content: "<p>Contenu du chapitre sur la vision...</p>"
                    }
                ]
            },
            {
                id: 3,
                title: "Les 48 lois du pouvoir",
                author: "Robert Greene",
                cover: "https://via.placeholder.com/150x200?text=48+Lois",
                description: "Un guide controversé mais influent sur l'acquisition et la conservation du pouvoir.",
                keyPoints: 48,
                duration: "1h 20min",
                rating: 4.3,
                keyPointsList: [
                    "Ne surpassez jamais le maître",
                    "Ne vous fiez pas trop à vos amis",
                    "Masquez vos intentions",
                    "Dites toujours moins que nécessaire",
                    // ... autres points clés
                ],
                chapters: [
                    {
                        title: "Ne surpassez jamais le maître",
                        content: "<p>Contenu du premier chapitre...</p>"
                    }
                ]
            }
        ];

        // Éléments DOM
        const pages = document.querySelectorAll('.page');
        const bottomNav = document.getElementById('bottom-nav');
        const bottomNavItems = document.querySelectorAll('.nav-item');
        const freeBooksGrid = document.getElementById('free-books-grid');
        const featuredBooksGrid = document.getElementById('featured-books-grid');
        const favoriteBooksGrid = document.getElementById('favorite-books-grid');
        const startReadingBtn = document.getElementById('start-reading');
        const backToDetailBtn = document.getElementById('back-to-detail');
        const showTocBtn = document.getElementById('show-toc');
        const backToReadingBtn = document.getElementById('back-to-reading');
        const readingSettingsBtn = document.getElementById('reading-settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        const decreaseFontBtn = document.getElementById('decrease-font');
        const increaseFontBtn = document.getElementById('increase-font');
        const fontSizeDisplay = document.getElementById('font-size-display');
        const themeOptions = document.querySelectorAll('.theme-option');
        const tocList = document.getElementById('toc-list');
        const favoriteBtn = document.getElementById('favorite-btn');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');

        // Variables d'état
        let currentBook = null;
        let currentChapterIndex = 0;
        let fontSize = 16;
        let favoriteBooks = JSON.parse(localStorage.getItem('favoriteBooks')) || [];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Remplir les grilles de livres
            populateBookGrids();
            
            // Charger les livres favoris
            loadFavoriteBooks();
            
            // Configurer les écouteurs d'événements
            setupEventListeners();
        });

        // Remplir les grilles de livres
        function populateBookGrids() {
            // Livres gratuits
            freeBooksGrid.innerHTML = '';
            books.forEach(book => {
                const bookCard = createBookCard(book);
                freeBooksGrid.appendChild(bookCard);
            });

            // Livres en vedette
            featuredBooksGrid.innerHTML = '';
            books.forEach(book => {
                const bookCard = createBookCard(book);
                featuredBooksGrid.appendChild(bookCard);
            });
        }

        // Créer une carte de livre
        function createBookCard(book) {
            const bookCard = document.createElement('div');
            bookCard.className = 'book-card';
            bookCard.innerHTML = `
                <img src="${book.cover}" alt="${book.title}" class="book-cover">
                <div class="book-info">
                    <div class="book-title">${book.title}</div>
                    <div class="book-author">${book.author}</div>
                </div>
            `;
            bookCard.addEventListener('click', () => showBookDetail(book));
            return bookCard;
        }

        // Charger les livres favoris
        function loadFavoriteBooks() {
            favoriteBooksGrid.innerHTML = '';
            
            if (favoriteBooks.length === 0) {
                favoriteBooksGrid.innerHTML = '<p>Aucun livre favori pour le moment.</p>';
                return;
            }
            
            favoriteBooks.forEach(bookId => {
                const book = books.find(b => b.id === bookId);
                if (book) {
                    const bookCard = createBookCard(book);
                    favoriteBooksGrid.appendChild(bookCard);
                }
            });
        }

        // Configurer les écouteurs d'événements
        function setupEventListeners() {
            // Navigation du bas
            bottomNavItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    
                    // Mettre à jour les éléments actifs
                    bottomNavItems.forEach(navItem => navItem.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Afficher la page correspondante
                    showPage(pageId);
                });
            });
// Bouton retour vers l'accueil
document.getElementById('back-to-home').addEventListener('click', function() {
    showPage('home-page');
});
            // Bouton favori
            favoriteBtn.addEventListener('click', function() {
                if (currentBook) {
                    toggleFavorite(currentBook.id);
                }
            });

            // Recherche
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                
                if (query.length === 0) {
                    searchResults.classList.remove('active');
                    return;
                }
                
                // Filtrer les livres
                const results = books.filter(book => 
                    book.title.toLowerCase().includes(query) || 
                    book.author.toLowerCase().includes(query) ||
                    book.description.toLowerCase().includes(query)
                );
                
                // Afficher les résultats
                displaySearchResults(results);
            });

            // Bouton de lecture
            startReadingBtn.addEventListener('click', function() {
                if (currentBook) {
                    showReadingPage(currentBook, 0);
                }
            });

            // Bouton retour au détail
            backToDetailBtn.addEventListener('click', function() {
                showPage('book-detail-page');
            });

            // Bouton afficher sommaire
            showTocBtn.addEventListener('click', function() {
                if (currentBook) {
                    showTocPage(currentBook);
                }
            });

            // Bouton retour à la lecture
            backToReadingBtn.addEventListener('click', function() {
                showPage('reading-page');
            });

            // Paramètres de lecture
            readingSettingsBtn.addEventListener('click', function() {
                settingsPanel.classList.toggle('active');
            });

            // Contrôles de taille de police
            decreaseFontBtn.addEventListener('click', function() {
                if (fontSize > 12) {
                    fontSize--;
                    updateFontSize();
                }
            });

            increaseFontBtn.addEventListener('click', function() {
                if (fontSize < 24) {
                    fontSize++;
                    updateFontSize();
                }
            });

            // Options de thème
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    
                    themeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (theme === 'dark') {
                        document.body.classList.add('dark-mode');
                    } else {
                        document.body.classList.remove('dark-mode');
                    }
                });
            });

            // Navigation par glissement horizontal
            let touchStartX = 0;
            let touchEndX = 0;
            
            const readingContent = document.getElementById('reading-page');
            
            readingContent.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            readingContent.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                
                if (touchEndX < touchStartX - swipeThreshold) {
                    // Glissement vers la gauche - chapitre suivant
                    nextChapter();
                } else if (touchEndX > touchStartX + swipeThreshold) {
                    // Glissement vers la droite - chapitre précédent
                    previousChapter();
                }
            }
        }

        // Afficher une page spécifique
        function showPage(pageId) {
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // Masquer ou afficher la barre de navigation
            if (document.getElementById(pageId).classList.contains('hide-nav')) {
                bottomNav.classList.add('hidden');
            } else {
                bottomNav.classList.remove('hidden');
            }
            
            // Recharger les livres favoris si on va sur la page bibliothèque
            if (pageId === 'library-page') {
                loadFavoriteBooks();
            }
        }

        // Afficher les détails d'un livre
        function showBookDetail(book) {
            currentBook = book;
            
            // Mettre à jour les éléments de la page de détail
            document.getElementById('detail-cover').src = book.cover;
            document.getElementById('detail-title').textContent = book.title;
            document.getElementById('detail-author').textContent = book.author;
            document.getElementById('detail-description').textContent = book.description;
            document.getElementById('detail-key-points').textContent = book.keyPoints;
            document.getElementById('detail-duration').textContent = book.duration;
            document.getElementById('detail-rating').textContent = book.rating;
            
            // Mettre à jour le bouton favori
            updateFavoriteButton(book.id);
            
            // Mettre à jour la liste des points clés
            const keyPointsList = document.getElementById('detail-key-points-list');
            keyPointsList.innerHTML = '';
            book.keyPointsList.forEach(point => {
                const li = document.createElement('li');
                li.textContent = point;
                keyPointsList.appendChild(li);
            });
            
            // Afficher la page de détail
            showPage('book-detail-page');
        }

        // Afficher la page de lecture
        function showReadingPage(book, chapterIndex) {
            currentBook = book;
            currentChapterIndex = chapterIndex;
            
            // Mettre à jour les éléments de la page de lecture
            document.getElementById('reading-chapter-title').textContent = `Chapitre ${chapterIndex + 1}`;
            document.getElementById('chapter-title').textContent = book.chapters[chapterIndex].title;
            document.getElementById('chapter-content').innerHTML = book.chapters[chapterIndex].content;
            
            // Afficher la page de lecture
            showPage('reading-page');
        }

        // Afficher la page du sommaire
        function showTocPage(book) {
            currentBook = book;
            
            // Mettre à jour la liste du sommaire
            tocList.innerHTML = '';
            book.chapters.forEach((chapter, index) => {
                const li = document.createElement('li');
                li.className = 'toc-item';
                li.textContent = chapter.title;
                li.addEventListener('click', () => {
                    showReadingPage(book, index);
                });
                tocList.appendChild(li);
            });
            
            // Afficher la page du sommaire
            showPage('toc-page');
        }

        // Basculer le statut favori d'un livre
        function toggleFavorite(bookId) {
            const index = favoriteBooks.indexOf(bookId);
            
            if (index === -1) {
                // Ajouter aux favoris
                favoriteBooks.push(bookId);
                favoriteBtn.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                // Retirer des favoris
                favoriteBooks.splice(index, 1);
                favoriteBtn.innerHTML = '<i class="far fa-heart"></i>';
            }
            
            // Sauvegarder dans le localStorage
            localStorage.setItem('favoriteBooks', JSON.stringify(favoriteBooks));
        }

        // Mettre à jour le bouton favori
        function updateFavoriteButton(bookId) {
            if (favoriteBooks.includes(bookId)) {
                favoriteBtn.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                favoriteBtn.innerHTML = '<i class="far fa-heart"></i>';
            }
        }

        // Afficher les résultats de recherche
        function displaySearchResults(results) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = '<div class="search-result-item">Aucun résultat trouvé</div>';
            } else {
                results.forEach(book => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.innerHTML = `
                        <div><strong>${book.title}</strong></div>
                        <div>${book.author}</div>
                    `;
                    resultItem.addEventListener('click', () => {
                        showBookDetail(book);
                        searchInput.value = '';
                        searchResults.classList.remove('active');
                    });
                    searchResults.appendChild(resultItem);
                });
            }
            
            searchResults.classList.add('active');
        }

        // Chapitre suivant
        function nextChapter() {
            if (currentBook && currentChapterIndex < currentBook.chapters.length - 1) {
                showReadingPage(currentBook, currentChapterIndex + 1);
            }
        }

        // Chapitre précédent
        function previousChapter() {
            if (currentBook && currentChapterIndex > 0) {
                showReadingPage(currentBook, currentChapterIndex - 1);
            }
        }

        // Mettre à jour la taille de police
        function updateFontSize() {
            const chapterContent = document.getElementById('chapter-content');
            chapterContent.style.fontSize = `${fontSize}px`;
            fontSizeDisplay.textContent = `${fontSize}px`;
        }
    </script>
</body>
</html>        
